     1                                  bits 32 
     2                                  
     3                                  global start        
     4                                  
     5                                  extern exit               ; tell nasm that exit exists even if we won't be defining it
     6                                  import exit msvcrt.dll    ; exit is a function that ends the calling process. It is defined in msvcrt.dll
     7                                                            ; msvcrt.dll contains exit, printf and all the other important C-runtime specific functions
     8                                  
     9                                  segment data use32 class=data
    10 00000000 2B3432614033242A00          s db '+', '4', '2', 'a', '@', '3', '$', '*', 0
    11                                      len equ $-s
    12 00000009 00<rept>                    d times len db 0
    13                                      
    14 00000012 21402324255E262A00          caract_speciale db "!@#$%^&*", 0
    15                                  
    16                                  ; Se da un sir de caractere S. Sa se construiasca sirul D care sa contina toate caracterele speciale (!@#$%^&*) din sirul S.
    17                                  segment code use32 class=code
    18                                      start:
    19                                          
    20 00000000 B909000000                      mov ecx, len
    21 00000005 E328                            jecxz final
    22                                          
    23 00000007 FC                              cld
    24 00000008 BE[00000000]                    mov esi, s
    25                                          
    26 0000000D BB00000000                      mov ebx, 0
    27                                          
    28                                          repeta:
    29 00000012 AC                                  lodsb
    30 00000013 51                                  push ecx
    31 00000014 BF[12000000]                        mov edi, caract_speciale
    32                                              
    33 00000019 B908000000                          mov ecx, 8
    34                                              cauta:
    35 0000001E AE                                      scasb
    36 0000001F 7404                                    je gasit
    37 00000021 E2FB                                loop cauta
    38                                              
    39 00000023 EB07                                jmp gata
    40                                              
    41                                              gasit:
    42 00000025 8883[09000000]                          mov [d + ebx], al
    43 0000002B 43                                      inc ebx
    44                                              gata:
    45 0000002C 59                                      pop ecx
    46                                          
    47 0000002D E2E3                            loop repeta       
    48                                          
    49                                      
    50                                          final:
    51                                          ; exit(0)
    52 0000002F 6A00                            push    dword 0      ; push the parameter for exit onto the stack
    53 00000031 FF15[00000000]                  call    [exit]       ; call exit to terminate the program
